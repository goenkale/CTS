= image:icons/black-C.png[width=5%] Camunda - Token Simulation Tutorial
Scenario 2: Creating a tutorial
v0.0.1, {docdate}
:toc: left
:toc-title: Table of contents
:toclevels: 2
:imagesdir: ./documentation/images
:icons: font
:sectnums: numbered
:sectanchors:
:hardbreaks:
:experimental:

== Objectives

The purpose of this tutorial is to understand what can be simulated in a process definition using Camunda Platform 8 and why should we include it in our tests.

== Introduction

=== What is a token?

The execution of a process definition is also known as a process instance. A token represents a virtual instance of a process definition.

=== Why use tokens to simulate?

Running process instances usually require some input data, human intervention, connexion to external information systems and so on. *Tokens will go free through the process flow with no requirements*. This is useful to validate our process instance expectations.


WARNING: _Token simulation is not based on time or on frequency. It won't return any time or frequency metrics._

=== How does it work?

==== Enable the Token Simulation

- Toggle the Token Simulation to enable the feature.

image::processes/toggle.gif[title="Enable the Token Simulation"]

==== Start a Token Simulation

- Click image:icons/play.png[play, width=5%] in the Start event of your process definition.

image::processes/start-simulation.gif[title="Token Simulation execution"]

==== Check the Token Simulation log

- Click image:icons/log.png[log, width=5%] in the action buttons at the top left corner.

image::processes/play.gif[title="Token Simulation log"]

==== Switch the Token Simulation speed

- Click image:icons/speed.png[speed, width=15%] in the action buttons at the bottom.

image::processes/speed.gif[title="Token Simulation speed"]

== Use Case scenario

Let's demonstrate the Token Simulation using a use case scenario.

=== Import a BPMN diagram to your project

- Download this process definition link:/ticketing.bpmn[]

- Connect to your https://modeler.cloud.camunda.io/[Camunda Platform 8 - Modeler]

- Create a new project called "*Token Simulation Test*"

- Click **New** button > **Upload files**

image::icons/upload.png[title="Upload the shared file ticketing.bpmn"]

- Browse to your **_ticketing.bpmn_** file

- Click "*Open*" button

image::icons/ticketing.bpmn.png[title="Uploaded BPMN diagram ticketing.bpmn"]

- Click the *ticketing.bpmn* BPMN diagram

- Deploy your diagram using the button image:icons/deploy.png[Deploy ticketing.bpmn, width=30%]

- Select your cluster and click *Deploy*

image::icons/cluster-deploy.png[title="Deploy your BPMN diagram into your cluster"]

=== Test your BPMN diagram

This BPMN diagram describes a Ticketing process definition from a Customer Support team. 

image::processes/ticketing-bpmn.png[title="Ticketing BPMN diagram"]




== Validate your knowledge

Select the right answers for the following statements:

. Camunda Token Simulation feature let me
  .. switch the token speed
  .. identify the bottlenecks 
  .. know how many time my process instances will take (average)
  .. create multiple tokens at once
  .. define a number of tokens to evaluate the most common path taken
  .. display the token simulation log
  .. start/stop tokens
  .. 

. 

== Related content

- https://docs.camunda.io/docs/components/modeler/web-modeler/token-simulation/[Camunda Platform 8 documentation - Token Simulation]
- https://www.youtube.com/watch?v=fv3wPccIpL8&list=PLJG25HlmvsOUvvKB7Iiy6H5brYhb_W8Lc&index=1[Camunda Platform 8 videos - Code Studio]
- others?
